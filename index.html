<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Document</title>
    <!-- link jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- link bootstrap file -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- link reset file RESET NOT NEEDED DUE TO BOOTSTRAP -->
    <!-- <link rel="stylesheet" href="assets/css/reset.css"> -->
    <!-- link style.css file -->
    <link rel="stylesheet" href="assets/css/style.css">
    <!-- link javascript file -->
    <script src="assets/javascript/game.js"></script>


</head>

<body>

    <script type="text/javascript">

        var counter = 0;
        let wins = 0;
        let losses = 0;
        let targetNumber = 0;

        $(document).ready(function () {

            // generate random number and write to the random number div 


            function resetTargetNumber() {
                targetNumber = Math.floor(Math.random() * (100 - 1 + 1) + 1);
                $("#random-number").text(targetNumber);
            }

            resetTargetNumber();

            function resetCrystalValues() {
                //   set random value for crystal one 
                let crystalOne = Math.floor(Math.random() * (20 - 1 + 1) + 1);
                $("#crystalOne").attr("data-number", crystalOne);
                //   set random value for crystal two
                let crystalTwo = Math.floor(Math.random() * (20 - 1 + 1) + 1);
                $("#crystalTwo").attr("data-number", crystalTwo);
                //   set random value for crystal three
                let crystalThree = Math.floor(Math.random() * (20 - 1 + 1) + 1);
                $("#crystalThree").attr("data-number", crystalThree);
                //   set random value for crystal four
                let crystalFour = Math.floor(Math.random() * (20 - 1 + 1) + 1);
                $("#crystalFour").attr("data-number", crystalFour);
            }

            resetCrystalValues();

            // write a set counter function 

            function setCounter(newCounter) {
                counter = newCounter;
                $("#score-counter").text(counter);
            }

            // write a game reset function 

            function resetGame() {
                resetCrystalValues();
                resetTargetNumber();
                setCounter(0);
            }

            function incrementWins() {
                wins++;
                $("#win-counter").text(wins);
            }

            function incrementLosses() {
                losses++;
                $("#loss-counter").text(losses);
            }

            // create function to add points to counter with each crystal click and determine a win vs a loss

            $(".crystal-image").on("click", function () {

                var crystalPoints = ($(this).attr("data-number"));
                crystalPoints = parseInt(crystalPoints);
                setCounter(counter + crystalPoints);
                console.log("Click!");



                if (counter > targetNumber) {
                    incrementLosses();
                    $("#outcome").text("You Lost!");
                    console.log("You lost!")
                    resetGame();


                } else if (counter === targetNumber) {
                    incrementWins();
                    $("#outcome").text("You Won!");
                    resetGame();

                }
                
            });
        })

            // when player wins or looses - reset the crystals, reset the counter, and reset the target number

    </script>

    <div id="heading">
        <h1>Crystals Collector!</h1>
    </div>

    <div id="instructions" class="col-md-6">
        <p>You will be given a random number at the start of the game.</p>
        <p>There are four crystals below. By clicking on a crystal you will add a scpecific amount of points to your
            total score. </p>
        <p>You win the game by matching your total score to random number, you lose the game if your total score goes
            above the random number. </p>
        <p>The value of each crystal is hidden from you until you click on it.</p>
        <p>Each time when the game starts, the game will change the value of each crystal.</p>
    </div>
    <div id="random-number">

    </div>
    <div id="wins-losses" class="container">
        <p id="outcome"></p>
        <p id="win-text">Wins:<span id="win-counter">0</span> </p>
        <p id="loss-text">Losses:<span id="loss-counter">0</span> </p>
    </div>

    <div id="crystal-images">
        <img class="crystal-image" id="crystalOne" src="assets/images/crystal1.jpg" alt="crystal 1">
        <img class="crystal-image" id="crystalTwo" src="assets/images/crystal2.jpg" alt="crystal 2">
        <img class="crystal-image" id="crystalThree" src="assets/images/crystal3.png" alt="crystal 3">
        <img class="crystal-image" id="crystalFour" src="assets/images/crystal4.png" alt="crystal 4">
    </div>

    <div id="score-announcement">
        Your total score is:
    </div>
    <div id="score-counter">
        0
    </div>



</body>

</html>